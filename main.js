(()=>{"use strict";class t{constructor(e,o,s,c,i){this.id=t.id,this.project=e,this.title=o,this.description=s,this.dueDate=c,this.priority=i,this.createCard=this.createCard.bind(this),t.id+=1}static deleteTodo(t){const e=new o;let s="";e.myTodos.map((e=>{if(e.id===t)return s=e}));const c=document.querySelector(`.${s.project}`),i=`.todo${t}`,r=document.querySelector(i);c.removeChild(r),e.remove(t)}createCard(){const e=document.createElement("div");e.setAttribute("class",`card todo${this.id}`);const o=document.createElement("div");o.setAttribute("class","card-content");const s=document.createElement("div");s.setAttribute("class","media");const c=document.createElement("div");c.setAttribute("class","media-content");const i=document.createElement("p");i.setAttribute("class","title is-4"),i.innerText=this.title;const r=document.createElement("p");r.setAttribute("class","subtitle is-6"),r.innerText=this.description;const d=document.createElement("p");d.setAttribute("class","subtitle is-6"),d.innerText=this.priority;const n=document.createElement("p");n.setAttribute("class","subtitle is-6"),n.innerText=this.dueDate;const a=document.createElement("button");a.setAttribute("class","button submit is-link"),a.setAttribute("id",this.id),a.innerText="Delete",a.addEventListener("click",(()=>{t.deleteTodo(this.id)})),c.appendChild(i),c.appendChild(r),c.appendChild(d),c.appendChild(n),c.appendChild(a),s.appendChild(c),o.appendChild(s),e.appendChild(o),document.querySelector(`.${this.project}`).appendChild(e)}}t.id=0;const e=t,o=class{constructor(){localStorage.myTodos?this.myTodos=JSON.parse(localStorage.myTodos||"[]"):this.myTodos=[],this.setStorage=this.setStorage.bind(this),this.addTodo=this.addTodo.bind(this),this.remove=this.remove.bind(this)}setStorage(){localStorage.setItem("myTodos",JSON.stringify(this.myTodos))}remove(t){const e=[];this.myTodos.map((o=>{if(o.id!==t)return e.push(o)})),this.myTodos=e,this.setStorage()}addTodo(t){this.myTodos.push(t),this.setStorage()}listTodos(){this.myTodos.forEach((t=>{const{project:o,title:s,description:c,priority:i,dueDate:r}=t;new e(o,s,c,i,r).createCard()}))}},s=document.querySelector("main");class c{constructor(){if(localStorage.myProjects)this.myProjects=JSON.parse(localStorage.myProjects||"[]");else{const t=new class{constructor(t,e){this.name=t,this.color=e}}("default","hsl(204, 86%, 53%)");this.myProjects=[],this.myProjects.push(t),this.setStorage()}this.setStorage=this.setStorage.bind(this)}setStorage(){localStorage.setItem("myProjects",JSON.stringify(this.myProjects))}static createCard(t,e){const o=document.createElement("div");o.setAttribute("class",`box ${t}`),o.setAttribute("style",`background-color:${e}`),s.appendChild(o)}listProjects(){this.myProjects.map((t=>c.createCard(t.name,t.color)))}}(new c).listProjects();const i=new o;function r(){document.querySelectorAll("input").forEach((t=>{t.value=""}))}function d(){document.querySelector(".modal").setAttribute("class","modal")}i.listTodos(),document.querySelector(".submit").addEventListener("click",(function(t){t.preventDefault();const o=document.querySelector(".project"),s=document.querySelector(".todo-title"),c=document.querySelector(".description"),d=document.querySelector(".priority"),n=document.querySelector(".due-date"),a=new e(o.value,s.value,c.value,n.value,d.value);a.createCard(),i.addTodo(a),r()}),!1),document.querySelector(".cancel").addEventListener("click",r,!1),document.querySelector(".cancel-project").addEventListener("click",d,!1),document.querySelector(".modal-close").addEventListener("click",d,!1),document.querySelector(".modal-button").addEventListener("click",(function(){document.querySelector(".modal").setAttribute("class","modal is-active")}),!1)})();